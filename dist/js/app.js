(function(e){function t(t){for(var r,s,o=t[0],c=t[1],u=t[2],p=0,f=[];p<o.length;p++)s=o[p],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&f.push(a[s][0]),a[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);l&&l(t);while(f.length)f.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(r=!1)}r&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},a={app:0},i=[];function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/dist/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");function r(){var e=window.matchMedia("screen and (-ms-high-contrast: active), (-ms-high-contrast: none)");e.matches&&(n("e602"),n("ba8c"))}var a={isIE10:r},i=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"vue-app"}},[n("div",{staticClass:"entry-content row",attrs:{"data-swiftype-index":"true"}},[n("h1",{domProps:{innerHTML:e._s(e.$t("test"))}}),n("div",{staticClass:"grid-container translations-container"},[n("div",{staticClass:"grid-x medium-24 bg-ghost-gray mvl translations"},[e._m(0),e.post?n("ul",{staticClass:"inline-list no-bullet mbn pln no-dropdown",attrs:{id:"main-translation-bar"}},e._l(e.post.language_list,(function(t,r){return n("li",{key:r,staticClass:" phm phs",class:{active:e.activeLanguage==t.language},domProps:{innerHTML:e._s(t.key)},on:{click:function(n){return e.setActiveLanguage(t.language)}}})})),0):e._e()])]),n("section",{staticClass:"mtl"},[n("div",{staticClass:"large-24 columns"},[n("SiteFinder",{attrs:{"document-table":e.filteredTable,categories:e.categories,query:e.query,"title-hash":"Guidance documents"}})],1)]),n("section",{staticClass:"mtl"},[n("div",{staticClass:"large-24 columns archive-link"},[n("a",{attrs:{href:e.theArchiveLink,target:"_blank"}},[n("i",{staticClass:"fas fa-newspaper fa-2x prm"}),n("span",[e._v("Visit the News & Events section to view press releases and posts.")])])])])])])},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"phm globe"},[n("i",{staticClass:"fas fa-globe fa-2x"})])}],c=(n("4de4"),n("4160"),n("d81d"),n("d3b7"),n("ac1f"),n("6062"),n("3ca3"),n("1276"),n("159b"),n("ddb0"),n("2909")),u=(n("96cf"),n("1da1")),l=n("bc3a"),p=n.n(l),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",[n("v-client-table",{ref:e.titleId,attrs:{id:e.titleId,name:e.titleId,data:e.documentTable,columns:e.columns,options:e.options},scopedSlots:e._u([{key:"Title",fn:function(t){var r=t.row;return n("div",{attrs:{id:r.id}},[r.Title?n("div",{staticClass:"block"},[n("a",{attrs:{href:r.Active_Link}},[n("span",{staticClass:"title"},[e._v(e._s(r.Active_Title))])])]):e._e()])}}])},[n("div",{staticClass:"multiselect-before-filter",attrs:{slot:"beforeFilter"},slot:"beforeFilter"},[n("multiselect",{attrs:{options:e.categories,placeholder:"Showing all categories"},on:{input:e.filterTable},model:{value:e.multiselectValue,callback:function(t){e.multiselectValue=t},expression:"multiselectValue"}})],1),n("div",{attrs:{slot:"afterFilter"},slot:"afterFilter"},[n("span",[n("i",{staticClass:"fas fa-search fa-2x"})])])])],1)])},d=[],h=(n("a15b"),n("8e5f")),v=n.n(h),g=n("9ebe"),m={name:"SiteFinder",components:{Multiselect:v.a},props:{documentTable:{type:Array,default:function(){return[]}},categories:{type:Array,default:function(){return[]}},query:{type:String,default:function(){return null}},titleHash:{type:String,default:function(){return null}}},data:function(){return{multiselectValue:"",columns:["Title","Category","Format"],options:{addSortedClassToCells:!0,sortIcon:{base:"fa",is:"fa-sort",up:"fa-sort-up",down:"fa-sort-down"},orderBy:{column:"Category"},multiSorting:{Category:[{column:"Title",matchDir:!0}]},texts:{filterPlaceholder:"Begin typing to filter by title or category"},perPage:10,perPageValues:[],customFilters:[{name:"dropdownFilter",callback:function(e,t){return e.Category==t}}]},titleId:this.titleHash.split(" ").join("-").toLowerCase(),title:"Guidance documents",searchTerm:null}},mounted:function(){},methods:{searchQuery:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e,n.$route.query.table&&n.$route.query.q&&(r=n.$route.query.table,n.searchTerm=n.$route.query.q.split("-").join(" "),r==n.titleId&&(n.showMessage(),n.$refs[n.titleId].setFilter(n.searchTerm)));case 2:case"end":return t.stop()}}),t)})))()},filterTable:function(){var e=this;"All categories"==e.multiselectValue?g["Event"].$emit("vue-tables.".concat(e.titleId,".filter::dropdownFilter"),null):g["Event"].$emit("vue-tables.".concat(e.titleId,".filter::dropdownFilter"),e.multiselectValue)}}},b=m,w=(n("60bc"),n("9c0a"),n("2877")),y=Object(w["a"])(b,f,d,!1,null,"652395bc",null),T=y.exports,L=(n("caad"),n("a925")),_=n("694c");i["default"].use(L["a"]);var k=new L["a"]({silentTranslationWarn:!0,locale:"en-US",fallbackLocale:"en-US",messages:{"en-US":_}}),R=["en-US"];function C(e){return k.locale=e,document.querySelector("html").setAttribute("lang",e),e}function x(e){return"en"===e&&(e="en-US"),k.locale===e||R.includes(e)?Promise.resolve(C(e)):void p()({method:"get",url:"/static/".concat(e,".json")}).then((function(t){return k.setLocaleMessage(e,t.data),R.push(e),C(e)})).catch((function(){}))}var S="keyNcseMILLKVVFC3";i["default"].use(g["ClientTable"],{options:{},useVuex:!1,theme:"bootstrap3",template:"default"});var j={name:"App",components:{SiteFinder:T},data:function(){return{postId:31584,api:{url:"https://admin.phila.gov/",endpoint:"wp-json/programs/v1/archives/"},documentTables:[],query:null,categories:[],post:null,activeLanguage:"english",filteredTable:[],activeLink:"Link",activeTitle:"Title"}},computed:{theArchiveLink:function(){return this.api.url+"the-latest/archives/#/?templates=press_release&templates=post&search=covid&language="+encodeURIComponent(this.activeLanguage)}},created:function(){var e=this;e.init()},methods:{getPost:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e,t.abrupt("return",p.a.get(n.api.url+n.api.endpoint+n.postId).then(function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n.post=t.data,e.abrupt("return",!0);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(){return!1})));case 2:case"end":return t.stop()}}),t)})))()},getDocumentTables:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e,r=window.location.pathname,r="https://api.airtable.com/v0/app6HWoBlToNp1uKQ/Table%201?&view=Grid%20view",t.abrupt("return",p.a.get(r,{headers:{Authorization:"Bearer "+S}}).then(function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.data.records.map((function(e){return e["fields"]})),r.forEach((function(e){e["Title"]=e["English title"],delete e["English title"],e["Format"]=e["Type"],delete e["Type"],e["Link"]=e["English URL"],delete e["English URL"],e["Spanish_title"]=e["Spanish title"],delete e["Spanish title"],e["Spanish_link"]=e["Spanish URL"],delete e["Spanish URL"],e["Chinese_title"]=e["Chinese title"],delete e["Chinese title"],e["Chinese_link"]=e["Chinese URL"],delete e["Chinese URL"],e["French_title"]=e["French title"],delete e["French title"],e["French_link"]=e["French URL"],delete e["French URL"],e["Vietnamese_title"]=e["Vietnamese title"],delete e["Vietnamese title"],e["Vietnamese_link"]=e["Vietnamese URL"],delete e["Vietnamese URL"],e["Russian_title"]=e["Russian title"],delete e["Russian title"],e["Russian_link"]=e["Russian URL"],delete e["Russian URL"],e["Active_link"]=e["Link"],e["Active_Title"]=e["Title"]})),n.documentTables=r,e.abrupt("return",!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(){return!1})));case 4:case"end":return t.stop()}}),t)})))()},setCategories:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e,r=Object(c["a"])(new Set(n.documentTables.map((function(e){return e.Category})))),r.push("All categories"),n.categories=r.sort();case 4:case"end":return t.stop()}}),t)})))()},setLanguageFilter:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e,"spanish"==n.activeLanguage?(n.activeLink="Spanish_link",n.activeTitle="Spanish_title"):"russian"==n.activeLanguage?(n.activeLink="Russian_link",n.activeTitle="Russian_title"):"french"==n.activeLanguage?(n.activeLink="French_link",n.activeTitle="French_title"):"vietnamese"==n.activeLanguage?(n.activeLink="Vietnamese_link",n.activeTitle="Vietnamese_title"):(n.activeLink="Link",n.activeTitle="Title"),n.documentTables.forEach((function(e){e["Active_Link"]=e[n.activeLink],e["Active_Title"]=e[n.activeTitle]})),n.filteredTable=n.documentTables.filter((function(e){return!!e.Active_Title}));case 4:case"end":return t.stop()}}),t)})))()},parseQuery:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e,n.query=n.$route.hash;case 2:case"end":return t.stop()}}),t)})))()},init:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e,t.next=3,n.parseQuery();case 3:return t.next=5,n.getPost();case 5:return t.next=7,n.getDocumentTables();case 7:return t.next=9,n.setCategories();case 9:return t.next=11,n.setLanguageFilter();case 11:return t.next=13,n.scrollToDiv();case 13:case"end":return t.stop()}}),t)})))()},scrollToDiv:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e,r=n.$route.hash.split("#")[1],r&&(a=document.getElementById(r).offsetTop,window.scrollTo({top:a,behavior:"smooth"}));case 3:case"end":return t.stop()}}),t)})))()},languageToLang:function(){var e=this;return"english"==e.activeLanguage?"en-US":"spanish"==e.activeLanguage?"es":"french"==e.activeLanguage?"fr":"russian"==e.activeLanguage?"ru":"vietnamese"==e.activeLanguage?"vt":"en-US"},setActiveLanguage:function(e){var t=this;t.activeLanguage=e;var n=this.languageToLang();x(n),t.setLanguageFilter()}}},F=j,O=(n("5c0b"),Object(w["a"])(F,s,o,!1,null,null,null)),A=O.exports,U=n("8c4f"),V=n("f2ef");n("a1a3");a.isIE10(),i["default"].config.productionTip=!1,i["default"].use(V["a"]),i["default"].use(U["a"]);var I=new U["a"]({routes:[{path:"/",name:"main"}]});new i["default"]({el:"#vue-app",router:I,i18n:k,render:function(e){return e(A,{})}})},"5c0b":function(e,t,n){"use strict";var r=n("9c0c"),a=n.n(r);a.a},"694c":function(e){e.exports=JSON.parse('{"test":"wow"}')},9875:function(e,t,n){},"9c0a":function(e,t,n){"use strict";var r=n("9875"),a=n.n(r);a.a},"9c0c":function(e,t,n){},a1a3:function(e,t,n){},ba8c:function(e,t,n){n("a9e3"),n("8ba4"),Number.isInteger=Number.isInteger||function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e}},e602:function(e,t,n){n("7db0"),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!==typeof e)throw new TypeError("predicate must be a function");var r=arguments[1],a=0;while(a<n){var i=t[a];if(e.call(r,i,a,t))return i;a++}},configurable:!0,writable:!0})}});
//# sourceMappingURL=app.js.map