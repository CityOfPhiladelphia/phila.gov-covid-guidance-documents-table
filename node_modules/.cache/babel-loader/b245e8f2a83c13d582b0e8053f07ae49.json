{"remainingRequest":"/Users/matia/Desktop/phila.gov-covid-guidance-documents-table/node_modules/babel-loader/lib/index.js!/Users/matia/Desktop/phila.gov-covid-guidance-documents-table/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/matia/Desktop/phila.gov-covid-guidance-documents-table/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/matia/Desktop/phila.gov-covid-guidance-documents-table/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/matia/Desktop/phila.gov-covid-guidance-documents-table/src/App.vue","mtime":1607354624693},{"path":"/Users/matia/Desktop/phila.gov-covid-guidance-documents-table/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/matia/Desktop/phila.gov-covid-guidance-documents-table/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/matia/Desktop/phila.gov-covid-guidance-documents-table/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/matia/Desktop/phila.gov-covid-guidance-documents-table/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvbWF0aWEvRGVza3RvcC9waGlsYS5nb3YtY292aWQtZ3VpZGFuY2UtZG9jdW1lbnRzLXRhYmxlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgU2l0ZUZpbmRlciBmcm9tICcuL2NvbXBvbmVudHMvU2l0ZUZpbmRlci52dWUnOwppbXBvcnQgeyBDbGllbnRUYWJsZSB9IGZyb20gJ3Z1ZS10YWJsZXMtMic7IC8vIGltcG9ydCB7IF8gfSBmcm9tICd2dWUtdW5kZXJzY29yZSc7Cgp2YXIgYXBwX2tleSA9ICJrZXlOY3NlTUlMTEtWVkZDMyI7ClZ1ZS51c2UoQ2xpZW50VGFibGUsIHsKICBvcHRpb25zOiB7fSwKICB1c2VWdWV4OiBmYWxzZSwKICB0aGVtZTogJ2Jvb3RzdHJhcDMnLAogIHRlbXBsYXRlOiAnZGVmYXVsdCcKfSk7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQXBwJywKICBjb21wb25lbnRzOiB7CiAgICBTaXRlRmluZGVyOiBTaXRlRmluZGVyCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYXBpOiB7CiAgICAgICAgZ2V0RG9jdW1lbnRUYWJsZXM6ICdodHRwczovL3N0YWdpbmctYWRtaW4ucGhpbGEuZ292L3dwLWpzb24vZG9jdW1lbnRzL3YxL2RvY3VtZW50JwogICAgICB9LAogICAgICBkb2N1bWVudFRhYmxlczogW10sCiAgICAgIHF1ZXJ5OiBudWxsCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciB2bSA9IHRoaXM7CiAgICB2bS5pbml0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXREb2N1bWVudFRhYmxlczogZnVuY3Rpb24gZ2V0RG9jdW1lbnRUYWJsZXMoKSB7CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIHZhciBzbHVnID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lOwogICAgICBzbHVnID0gJ2h0dHBzOi8vYXBpLmFpcnRhYmxlLmNvbS92MC9hcHA2SFdvQmxUb05wMXVLUS9UYWJsZSUyMDE/JnZpZXc9R3JpZCUyMHZpZXcnOwogICAgICByZXR1cm4gYXhpb3MuZ2V0KHNsdWcsIHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIgKyBhcHBfa2V5CiAgICAgICAgfQogICAgICB9KS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHJlc3BvbnNlKSB7CiAgICAgICAgICB2YXIgdGVtcERhdGE7CiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgIHRlbXBEYXRhID0gcmVzcG9uc2UuZGF0YS5yZWNvcmRzLm1hcChmdW5jdGlvbiAoZW50cnkpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZW50cnlbImZpZWxkcyJdOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgdGVtcERhdGEuZm9yRWFjaChmdW5jdGlvbiAoc2l0ZSkgewogICAgICAgICAgICAgICAgICAgIHNpdGVbJ1RpdGxlJ10gPSBzaXRlWydFbmdsaXNoIHRpdGxlJ107CiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHNpdGVbJ0VuZ2xpc2ggdGl0bGUnXTsKICAgICAgICAgICAgICAgICAgICBzaXRlWydGb3JtYXQnXSA9IHNpdGVbJ1R5cGUnXTsKICAgICAgICAgICAgICAgICAgICBkZWxldGUgc2l0ZVsnVHlwZSddOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgdm0uZG9jdW1lbnRUYWJsZXMgPSB0ZW1wRGF0YTsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgdHJ1ZSk7CgogICAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWUpOwogICAgICAgIH0pKTsKCiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCkgewogICAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICB9OwogICAgICB9KCkpLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIHBhcnNlUXVlcnk6IGZ1bmN0aW9uIHBhcnNlUXVlcnkoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgdm07CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHZtID0gX3RoaXM7CiAgICAgICAgICAgICAgICB2bS5xdWVyeSA9IHZtLiRyb3V0ZS5oYXNoOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBpbml0OiBmdW5jdGlvbiBpbml0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciB2bTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgdm0gPSBfdGhpczI7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gdm0ucGFyc2VRdWVyeSgpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gdm0uZ2V0RG9jdW1lbnRUYWJsZXMoKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIHZtLnNjcm9sbFRvRGl2KCk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHNjcm9sbFRvRGl2OiBmdW5jdGlvbiBzY3JvbGxUb0RpdigpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICB2YXIgdm0sIGRpdiwgZGlzdGFuY2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHZtID0gX3RoaXMzOwogICAgICAgICAgICAgICAgZGl2ID0gdm0uJHJvdXRlLmhhc2guc3BsaXQoJyMnKVsxXTsKCiAgICAgICAgICAgICAgICBpZiAoZGl2KSB7CiAgICAgICAgICAgICAgICAgIGRpc3RhbmNlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZGl2KS5vZmZzZXRUb3A7CiAgICAgICAgICAgICAgICAgIHdpbmRvdy5zY3JvbGxUbyh7CiAgICAgICAgICAgICAgICAgICAgdG9wOiBkaXN0YW5jZSwKICAgICAgICAgICAgICAgICAgICBiZWhhdmlvcjogJ3Ntb290aCcKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["App.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div id=\"vue-app\">\n    <div\n      data-swiftype-index=\"true\"\n      class=\"entry-content\"\n    >\n      <!-- Site finder -->\n      <section class=\"mtl\">\n        <div class=\"large-24 columns\">\n          <SiteFinder\n            :document-table=\"documentTables\"\n            :query=\"query\"\n            title-hash=\"Guidance documents\"\n          />\n        </div>\n      </section>\n      <!-- Site finder -->\n    </div> <!-- End .entry-content -->\n  </div>\n</template>\n\n<script>\nimport Vue from 'vue';\nimport axios from 'axios';\nimport SiteFinder from './components/SiteFinder.vue';\nimport { ClientTable } from 'vue-tables-2';\n// import { _ } from 'vue-underscore';\nconst app_key = \"keyNcseMILLKVVFC3\";\n\nVue.use(ClientTable, {\n  options: {}, \n  useVuex: false,\n  theme: 'bootstrap3',\n  template: 'default',\n});\n\nexport default {\n  name: 'App',\n  components: {\n    SiteFinder,\n  },\n  data () {\n    return {\n      api: {\n        getDocumentTables: 'https://staging-admin.phila.gov/wp-json/documents/v1/document',\n      },\n      documentTables: [],\n      query: null,\n    };\n  },\n  created () {\n    let vm = this;\n    vm.init();\n  },\n  methods: {\n    getDocumentTables () {\n      let vm = this;\n      let slug = window.location.pathname;\n      slug = 'https://api.airtable.com/v0/app6HWoBlToNp1uKQ/Table%201?&view=Grid%20view';\n      return axios.get(\n        slug,\n        { headers: { Authorization: \"Bearer \" + app_key } },\n      ).\n      then(async (response) => {\n        \n        let tempData = response.data.records.map(function(entry) {\n            return entry[\"fields\"];\n          });\n\n        tempData.forEach(function(site) {\n          site['Title'] = site['English title'];\n          delete site['English title'];\n          site['Format'] = site['Type'];\n          delete site['Type'];\n        });\n\n         \n        vm.documentTables = tempData;\n        return true;\n      }).catch(() => {\n        return false;\n      });\n    },\n    async parseQuery () {\n      let vm = this;\n      vm.query = vm.$route.hash;\n    },\n    async init () {\n      let vm = this;\n      await vm.parseQuery();\n      await vm.getDocumentTables();\n      await vm.scrollToDiv(); \n    },\n    async scrollToDiv() {\n      let vm = this;\n      let div = vm.$route.hash.split('#')[1];\n      if ( div ) {\n        let distance = document.getElementById(div).offsetTop;\n        window.scrollTo({\n          top: distance,\n          behavior: 'smooth',\n        });\n      }\n    },\n  },\n};\n</script>"],"sourceRoot":"src"}]}